var centinelValidator=new Class.create;centinelValidator.prototype={initialize:function(t,e,i){this.method=t,this.validationUrl=e,this.containerId=i},validate:function(){if(order.paymentMethod!=this.method)return!1;var t=order.getPaymentData();t=order.prepareParams(t),t.json=!0,new Ajax.Request(this.validationUrl,{parameters:t,method:"post",onSuccess:function(t){var e=t.responseText.evalJSON();e.authenticationUrl&&this.autenticationStart(e.authenticationUrl),e.message&&this.autenticationFinish(e.message)}.bind(this)})},autenticationStart:function(t){this.getContainer().src=t,this.getContainer().style.display="block"},autenticationFinish:function(t){alert(t),this.getContainer().style.display="none"},getContainer:function(){return $(this.containerId)}};