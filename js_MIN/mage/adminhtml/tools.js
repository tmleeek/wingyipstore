function setLocation(e){window.location.href=e}function confirmSetLocation(e,t){return confirm(e)&&setLocation(t),!1}function deleteConfirm(e,t){confirmSetLocation(e,t)}function setElementDisable(e,t){$(e)&&($(e).disabled=t)}function toggleParentVis(e){e=$(e).parentNode,e.style.display="none"==e.style.display?"":"none"}function toggleFieldsetVis(e){id=e,e=$(e),e.style.display="none"==e.style.display?"":"none",e=e.parentNode.childElements();for(var t=0;t<e.length;t++)void 0!=e[t].id&&e[t].id==id&&"entry-edit-head"==e[t-1].classNames()&&(e[t-1].style.display="none"==e[t-1].style.display?"":"none")}function toggleVis(e){e=$(e),e.style.display="none"==e.style.display?"":"none"}function imagePreview(e){if($(e)){var t=window.open("","preview","width=400,height=400,resizable=1,scrollbars=1");t.document.open(),t.document.write('<body style="padding:0;margin:0"><img src="'+$(e).src+'" id="image_preview"/></body>'),t.document.close(),Event.observe(t,"load",function(){var e=t.document.getElementById("image_preview");t.resizeTo(e.width+40,e.height+80)})}}function checkByProductPriceType(e){return"price_type"==e.id?(this.productPriceType=e.value,!1):"price"==e.id&&0==this.productPriceType?!1:!0}function toggleValueElements(e,t,o,n){if(t&&e){var a=[e];if("undefined"!=typeof o){"[object Array]"!=Object.prototype.toString.call(o)&&(o=[o]);for(var i=0;i<o.length;i++)a.push(o[i])}var r=Element.select(t,["select","input","textarea","button","img"]),s=void 0!=n?n:e.checked;r.each(function(e){if(checkByProductPriceType(e)){for(var t=a.length;t--&&e!=a[t];);if(-1!=t)return;e.disabled=s,s?e.addClassName("disabled"):e.removeClassName("disabled"),"img"==e.nodeName.toLowerCase()&&(s?e.hide():e.show())}})}}function submitAndReloadArea(e,t){if($(e)){var o=$(e).select("input","select","textarea"),n=Form.serializeElements(o,!0);t+=t.match(new RegExp("\\?"))?"&isAjax=true":"?isAjax=true",new Ajax.Request(t,{parameters:$H(n),loaderArea:e,onSuccess:function(t){try{if(t.responseText.isJSON()){var o=t.responseText.evalJSON();o.error&&alert(o.message),o.ajaxExpired&&o.ajaxRedirect&&setLocation(o.ajaxRedirect)}else $(e).update(t.responseText)}catch(n){$(e).update(t.responseText)}}})}}function syncOnchangeValue(e,t){var o={baseElem:e,distElem:t};Event.observe(e,"change",function(){$(this.baseElem)&&$(this.distElem)&&($(this.distElem).value=$(this.baseElem).value)}.bind(o))}function updateElementAtCursor(e,t,o){if(void 0==o&&(o=window.self),document.selection)e.focus(),sel=o.document.selection.createRange(),sel.text=t;else if(e.selectionStart||"0"==e.selectionStart){var n=e.selectionStart,a=e.selectionEnd;e.value=e.value.substring(0,n)+t+e.value.substring(a,e.value.length)}else e.value+=t}function firebugEnabled(){return window.console&&window.console.firebug?!0:!1}function disableElement(e){e.disabled=!0,e.addClassName("disabled")}function enableElement(e){e.disabled=!1,e.removeClassName("disabled")}function disableElements(e){$$("."+e).each(disableElement)}function enableElements(e){$$("."+e).each(enableElement)}function updateTopButtonToolbarToggle(){toolbarToggle.reset()}function createTopButtonToolbarToggle(){toolbarToggle.createToolbar()}function floatingTopButtonToolbarToggle(){toolbarToggle.updateForScroll()}function sortNumeric(e,t){return e-t}Event.observe(window,"load",function(){$("price_default")&&$("price_default").checked&&($("price").disabled="disabled")});var toolbarToggle={header:null,headerOffset:null,headerCopy:null,eventsAdded:!1,compatible:!navigator.appVersion.match("MSIE 6."),reset:function(){this.headerCopy&&this.headerCopy.remove(),this.createToolbar(),this.updateForScroll()},createToolbar:function(){if(this.compatible){for(var e=$$(".content-header"),t=e.length-1;t>=0;t--)if(!e[t].hasClassName("skip-header")){this.header=e[t];break}if(this.header){this.headerOffset=Element.cumulativeOffset(this.header)[1];var o=$$(".content-buttons")[0];o&&(Element.insert(o,{before:'<div class="content-buttons-placeholder"></div>'}),o.placeholder=o.previous(".content-buttons-placeholder"),o.remove(),o.placeholder.appendChild(o),this.headerOffset=Element.cumulativeOffset(o)[1]),this.headerCopy=$(document.createElement("div")),this.headerCopy.appendChild(this.header.cloneNode(!0)),document.body.insertBefore(this.headerCopy,document.body.lastChild),this.headerCopy.addClassName("content-header-floating");var n=this.headerCopy.down(".content-buttons-placeholder");n&&n.remove()}}},ready:function(){return this.compatible&&this.header&&this.headerCopy&&this.headerCopy.parentNode?!0:!1},updateForScroll:function(){if(this.ready()){var e;self.pageYOffset?e=self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?e=document.documentElement.scrollTop:document.body&&(e=document.body.scrollTop),e>this.headerOffset?this.showFloatingToolbar():this.showNormalToolbar()}},showNormalToolbar:function(){if(this.ready()){var e=$$(".content-buttons")[0];e&&e.oldParent&&e.oldParent!=e.parentNode&&(e.remove(),e.oldBefore?e.oldParent.insertBefore(e,e.oldBefore):e.oldParent.appendChild(e)),this.headerCopy.style.display="none"}},showFloatingToolbar:function(){if(this.ready()){var e=$$(".content-buttons")[0];if(e&&(e.oldParent||(e.oldParent=e.parentNode,e.oldBefore=e.previous()),e.oldParent==e.parentNode)){if(e.placeholder){var t=e.placeholder.getDimensions();e.placeholder.style.width=t.width+"px",e.placeholder.style.height=t.height+"px"}var o=this.headerCopy.down("div");o&&(e.hide(),e.remove(),o.appendChild(e),e.show())}this.headerCopy.style.display="block"}},startOnLoad:function(){this.compatible&&(this.funcOnWindowLoad||(this.funcOnWindowLoad=this.start.bind(this)),Event.observe(window,"load",this.funcOnWindowLoad))},removeOnLoad:function(){this.funcOnWindowLoad&&Event.stopObserving(window,"load",this.funcOnWindowLoad)},start:function(){this.compatible&&(this.reset(),this.startListening())},stop:function(){this.stopListening(),this.removeOnLoad(),this.showNormalToolbar()},startListening:function(){this.eventsAdded||(this.funcUpdateForViewport||(this.funcUpdateForViewport=this.updateForScroll.bind(this)),Event.observe(window,"scroll",this.funcUpdateForViewport),Event.observe(window,"resize",this.funcUpdateForViewport),this.eventsAdded=!0)},stopListening:function(){this.eventsAdded&&(Event.stopObserving(window,"scroll",this.funcUpdateForViewport),Event.stopObserving(window,"resize",this.funcUpdateForViewport),this.eventsAdded=!1)}};toolbarToggle.startOnLoad();var Cookie={all:function(){var e=document.cookie.split(";"),t={};return e.each(function(e){var o=e.strip().split("=");t[unescape(o[0])]=unescape(o[1])}),t},read:function(e){var t=this.all();return t[e]?t[e]:null},write:function(e,t,o){var n="";if(o){var a=new Date;a.setTime(a.getTime()+1e3*o),n="; expires="+a.toGMTString()}var i="/"+BASE_URL.split("/").slice(3).join("/");document.cookie=escape(e)+"="+escape(t)+n+"; path="+i},clear:function(e){this.write(e,"",-1)}},Fieldset={cookiePrefix:"fh-",applyCollapse:function(e){collapsed=$(e+"-state")?1==$(e+"-state").value?0:1:$(e+"-head").collapsed,1==collapsed||void 0===collapsed?($(e+"-head").removeClassName("open"),$(e+"-head").up(".section-config")&&$(e+"-head").up(".section-config").removeClassName("active"),$(e).hide()):($(e+"-head").addClassName("open"),$(e+"-head").up(".section-config")&&$(e+"-head").up(".section-config").addClassName("active"),$(e).show())},toggleCollapse:function(e,t){collapsed=$(e+"-state")?1==$(e+"-state").value?0:1:$(e+"-head").collapsed,1==collapsed||void 0===collapsed?($(e+"-state")&&($(e+"-state").value=1),$(e+"-head").collapsed=0):($(e+"-state")&&($(e+"-state").value=0),$(e+"-head").collapsed=1),this.applyCollapse(e),"undefined"!=typeof t&&this.saveState(t,{container:e,value:$(e+"-state").value})},addToPrefix:function(e){this.cookiePrefix+=e+"-"},saveState:function(e,t){new Ajax.Request(e,{method:"get",parameters:Object.toQueryString(t),loaderArea:!1})}},Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,o,n,a,i,r,s,d="",l=0;for(e=Base64._utf8_encode(e);l<e.length;)t=e.charCodeAt(l++),o=e.charCodeAt(l++),n=e.charCodeAt(l++),a=t>>2,i=(3&t)<<4|o>>4,r=(15&o)<<2|n>>6,s=63&n,isNaN(o)?r=s=64:isNaN(n)&&(s=64),d=d+this._keyStr.charAt(a)+this._keyStr.charAt(i)+this._keyStr.charAt(r)+this._keyStr.charAt(s);return d},decode:function(e){var t,o,n,a,i,r,s,d="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)a=this._keyStr.indexOf(e.charAt(l++)),i=this._keyStr.indexOf(e.charAt(l++)),r=this._keyStr.indexOf(e.charAt(l++)),s=this._keyStr.indexOf(e.charAt(l++)),t=a<<2|i>>4,o=(15&i)<<4|r>>2,n=(3&r)<<6|s,d+=String.fromCharCode(t),64!=r&&(d+=String.fromCharCode(o)),64!=s&&(d+=String.fromCharCode(n));return d=Base64._utf8_decode(d)},mageEncode:function(e){return this.encode(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,",")},mageDecode:function(e){return e=e.replace(/\-/g,"+").replace(/_/g,"/").replace(/,/g,"="),this.decode(e)},idEncode:function(e){return this.encode(e).replace(/\+/g,":").replace(/\//g,"_").replace(/=/g,"-")},idDecode:function(e){return e=e.replace(/\-/g,"=").replace(/_/g,"/").replace(/\:/g,"+"),this.decode(e)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",o=0;o<e.length;o++){var n=e.charCodeAt(o);128>n?t+=String.fromCharCode(n):n>127&&2048>n?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},_utf8_decode:function(e){for(var t="",o=0,n=c1=c2=0;o<e.length;)n=e.charCodeAt(o),128>n?(t+=String.fromCharCode(n),o++):n>191&&224>n?(c2=e.charCodeAt(o+1),t+=String.fromCharCode((31&n)<<6|63&c2),o+=2):(c2=e.charCodeAt(o+1),c3=e.charCodeAt(o+2),t+=String.fromCharCode((15&n)<<12|(63&c2)<<6|63&c3),o+=3);return t}};